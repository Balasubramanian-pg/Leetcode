# Finding Classes with At Least 5 Students

## Overview

> [!NOTE]  
> This problem demonstrates the use of GROUP BY with HAVING clause to filter aggregated results, and the importance of counting distinct values.

## 1. Problem Description

### 1.1 Table Structure

> [!TIP]  
> The courses table tracks student enrollments with a simple two-column structure.

```
+---------+------------+
| student | class      |
+---------+------------+
```

> [!IMPORTANT]  
> The same student might appear multiple times in the same class, so we need DISTINCT counting.

### 1.2 Requirements

> [!CAUTION]  
> We must count unique students per class and only return classes with â‰¥ 5 distinct students.

## 2. Solution Approach

### 2.1 Aggregation Concept

> [!TIP]  
> GROUP BY class combined with COUNT(DISTINCT student) ensures we count each student only once per class.

> [!WARNING]  
> Using COUNT(student) instead of COUNT(DISTINCT student) would give incorrect results if duplicates exist.

### 2.2 SQL Solution

```sql
SELECT
    class
FROM
    courses
GROUP BY class
HAVING COUNT(DISTINCT student) >= 5;
```

> [!NOTE]  
> HAVING filters the groups after aggregation, unlike WHERE which filters rows before aggregation.

## 3. Example Output

> [!EXAMPLE]  
> Only Math meets the threshold in the sample data, appearing with 6 distinct students.

```
+---------+
| class   |
+---------+
| Math    |
+---------+
```

## 4. Alternative Approaches

### 4.1 Using Subquery

> [!TIP]  
> Some prefer this approach for clarity, though it's often less efficient.

```sql
SELECT class FROM (
    SELECT class, COUNT(DISTINCT student) AS student_count
    FROM courses
    GROUP BY class
) AS temp
WHERE student_count >= 5;
```

## 5. Performance Considerations

> [!IMPORTANT]  
> For large datasets, ensure proper indexing on the class column for efficient grouping.

## 6. Common Mistakes

> [!CAUTION]  
> Omitting DISTINCT would count duplicate student entries multiple times.

> [!WARNING]  
> Putting the count condition in WHERE instead of HAVING is a syntax error.

## 7. Real-World Application

> [!TIP]  
> This pattern is commonly used in enrollment systems to identify popular courses or in analytics to find frequently occurring items.
