# Combine Two Tables (Left Outer Join)

## Overview
This solution demonstrates how to combine two tables using a LEFT OUTER JOIN in SQL, ensuring all records from the primary table (Person) are included even when there are no matching records in the secondary table (Address).

## 1. Problem Description

### 1.1 Tables Structure

#### 1.1.1 Person Table
```
+-------------+---------+
| Column Name | Type    |
+-------------+---------+
| personId    | int     |
| lastName    | varchar |
| firstName   | varchar |
+-------------+---------+
```
- `personId` is the primary key

#### 1.1.2 Address Table
```
+-------------+---------+
| Column Name | Type    |
+-------------+---------+
| addressId   | int     |
| personId    | int     |
| city        | varchar |
| state       | varchar |
+-------------+---------+
```
- `addressId` is the primary key

### 1.2 Requirements
Report each person's first name, last name, city, and state. If no address exists, display NULL for city and state.

## 2. Solution Approach

### 2.1 LEFT JOIN Concept
- Returns all records from the left table (Person)
- Returns matched records from the right table (Address)
- For unmatched records, NULL values are returned for Address columns

### 2.2 SQL Solution
```sql
SELECT
    p.firstName,
    p.lastName,
    a.city,
    a.state
FROM
    Person p
LEFT JOIN
    Address a ON p.personId = a.personId;
```

> [!NOTE]  
> The LEFT JOIN ensures all persons are included regardless of whether they have an address.

## 3. Example Output
```
+-----------+----------+---------------+----------+
| firstName | lastName | city          | state    |
+-----------+----------+---------------+----------+
| Allen     | Wang     | Null          | Null     |
| Bob       | Alice    | New York City | New York |
+-----------+----------+---------------+----------+
```

> [!IMPORTANT]  
> The order of tables in LEFT JOIN matters. Person must be the left table to include all persons.

## 4. Alternative Solutions

### 4.1 Pandas Solution (Python)
```python
import pandas as pd

def combine_two_tables(person: pd.DataFrame, address: pd.DataFrame) -> pd.DataFrame:
    return pd.merge(left=person, right=address, how="left", on="personId")[
        ["firstName", "lastName", "city", "state"]
    ]
```

> [!TIP]  
> LEFT JOIN is equivalent to `how="left"` in pandas merge function.
