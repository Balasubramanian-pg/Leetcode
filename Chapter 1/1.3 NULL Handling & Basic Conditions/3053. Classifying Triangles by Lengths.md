# Triangle Classification by Side Lengths

## Overview

> [!NOTE]  
> This problem demonstrates how to classify triangles based on their side lengths while first validating they can form a valid triangle.

## 1. Problem Description

### 1.1 Table Structure

> [!TIP]  
> The Triangles table contains three side lengths that may or may not form valid triangles.

```
+-------------+------+
| Column Name | Type |
+-------------+------+
| A           | int  |
| B           | int  |
| C           | int  |
+-------------+------+
```

> [!IMPORTANT]  
> The solution must first validate triangle inequality before classifying by side equality.

## 2. Solution Approach

### 2.1 Triangle Validation Concept

> [!TIP]  
> The triangle inequality theorem states that the sum of any two sides must be greater than the third side.

> [!WARNING]  
> Must check all three combinations (A+B>C, A+C>B, B+C>A) to properly validate.

### 2.2 Classification Logic

```sql
SELECT
  CASE
    WHEN A + B <= C OR A + C <= B OR B + C <= A THEN 'Not A Triangle'
    WHEN A = B AND B = C THEN 'Equilateral'
    WHEN A = B OR B = C OR A = C THEN 'Isosceles'
    ELSE 'Scalene'
  END AS triangle_type
FROM Triangles;
```

> [!NOTE]  
> The CASE statement evaluates conditions in order, providing efficient classification.

## 3. Example Output

> [!EXAMPLE]  
> Correctly classifies triangles while identifying invalid configurations.

```
+----------------+
| triangle_type  |
+----------------+
| Isosceles      |
| Equilateral    |
| Scalene        |
| Not A Triangle |
+----------------+
```

## 4. Alternative Approaches

### 4.1 Using Greatest Function

```sql
SELECT
  CASE
    WHEN GREATEST(A, B, C) >= (A + B + C - GREATEST(A, B, C)) THEN 'Not A Triangle'
    WHEN A = B AND B = C THEN 'Equilateral'
    WHEN A = B OR B = C OR A = C THEN 'Isosceles'
    ELSE 'Scalene'
  END AS triangle_type
FROM Triangles;
```

### 4.2 With Subqueries

```sql
SELECT
  CASE
    WHEN NOT (A + B > C AND A + C > B AND B + C > A) THEN 'Not A Triangle'
    WHEN A = B AND B = C THEN 'Equilateral'
    WHEN (A = B AND B != C) OR (A = C AND C != B) OR (B = C AND C != A) THEN 'Isosceles'
    ELSE 'Scalene'
  END AS triangle_type
FROM Triangles;
```

## 5. Performance Considerations

> [!IMPORTANT]  
> The CASE statement approach is optimal as it:
> - Evaluates conditions in order
> - Short-circuits after first match
> - Requires only single table scan

## 6. Common Mistakes

> [!CAUTION]  
> Checking only one inequality condition (e.g., just A+B>C) would miss invalid triangles
> Incorrect order of WHEN clauses could misclassify equilateral as isosceles

## 7. Real-World Application

> [!TIP]  
> Similar logic is used in:
> - CAD software validation
> - Game development physics engines
> - Structural engineering calculations

## 8. Edge Cases

> [!NOTE]  
> The solution correctly handles:
> - Zero or negative side lengths (automatically "Not A Triangle")
> - Floating point side lengths
> - All permutations of side order (A,B,C vs B,A,C etc.)

## 9. Mathematical Foundation

The solution implements:
1. Triangle inequality theorem validation
2. Classification by number of equal sides:
   - 3 equal: Equilateral
   - 2 equal: Isosceles
   - 0 equal: Scalene

## 10. Cross-Database Solutions

### 10.1 MySQL/PostgreSQL

```sql
SELECT
  CASE
    WHEN A + B <= C OR A + C <= B OR B + C <= A THEN 'Not A Triangle'
    WHEN A = B AND B = C THEN 'Equilateral'
    WHEN A = B OR B = C OR A = C THEN 'Isosceles'
    ELSE 'Scalene'
  END AS triangle_type
FROM Triangles;
```

### 10.2 SQL Server

```sql
SELECT
  CASE
    WHEN A + B <= C OR A + C <= B OR B + C <= A THEN 'Not A Triangle'
    WHEN A = B AND B = C THEN 'Equilateral'
    WHEN A = B OR B = C OR A = C THEN 'Isosceles'
    ELSE 'Scalene'
  END AS triangle_type
FROM Triangles;
```
